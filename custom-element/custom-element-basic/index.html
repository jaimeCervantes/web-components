<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Web components: Custom Element Basico</title>
</head>
<body>
	<mi-boton>Soy un mi-boton</mi-boton>
	<mi-boton>Soy OTRO mi-boton</mi-boton>

	<mi-boton-2>Soy un mi-boton-2</mi-boton-2>
	
	<style>
		body {
			padding: 20px;
		}

		mi-boton {
			padding: 10px;
			border: 3px solid pink;
		}

		mi-boton-2 {
			padding: 10px;
			border: 3px solid red;
		}

		mi-boton, mi-boton-2 {
			display: block;
			margin-bottom: 10px;
		}
	</style>

	<script>
		class MiBoton extends HTMLElement {
			constructor () {
				super();
				this.escucharEventos();
			}

			escucharEventos () {
				this.addEventListener('click', function (event) {
					const miEvento = new CustomEvent('mi-evento', {
						bubbles: true,
						detail: {
							nombre: 'Jaime',
							apellido: 'Cervantes'
						}
					});

					this.dispatchEvent(miEvento);
				});

			}
		}
		customElements.define('mi-boton', MiBoton);

		// Usando una clase anonima para definir el custom element
		customElements.define('mi-boton-2', class extends HTMLElement {
			constructor () {
				super();
				
				this.addEventListener('click', () => {
					console.log('uno');
				});

				this.addEventListener('click', () => {
					console.log('dos');
				});
			}
		});

		document.addEventListener('mi-evento', console.log);
	</script>
	<p>Crear un custom element con un Custom Event que se llame "guardar", para probar este custom event recuerda que debes escucharlo</p>
</body>
</html>